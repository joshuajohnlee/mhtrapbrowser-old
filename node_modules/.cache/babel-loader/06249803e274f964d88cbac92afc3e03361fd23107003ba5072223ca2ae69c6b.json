{"ast":null,"code":"import _slicedToArray from\"C:/Users/joshu/Documents/Programming Projects/MHTrapBrowser/trapbrowser-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import weaponsList from'../assets/weapons.json';import WeaponCard from\"./WeaponCard\";import FilterForm from\"./FilterForm\";import SortButton from\"./SortButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var lodash=require(\"lodash\");export default function Weapons(){var _useState=useState({power_type:[\"Arcane\",\"Draconic\",\"Forgotten\",\"Hydro\",\"Law\",\"Parental\",\"Physical\",\"Rift\",\"Shadow\",\"Tactical\"],min_power:0,max_power:16500,min_power_bonus:0,max_power_bonus:35,min_attr_bonus:0,max_attr_bonus:40,min_luck:0,max_luck:40,min_title_req:0,max_title_req:19,min_cheese_effect:-6,max_cheese_effect:6,limited:'any'}),_useState2=_slicedToArray(_useState,2),filters=_useState2[0],setFilters=_useState2[1];var filteredList=weaponsList.filter(function(x){if(filters.power_type&&!filters.power_type.includes(x.power_type)){return false;}if(x.power<filters.min_power||x.power>filters.max_power){return false;}if(x.power_bonus<filters.min_power_bonus/100||x.power_bonus>filters.max_power_bonus/100){return false;}if(x.attr_bonus<filters.min_attr_bonus/100||x.attr_bonus>filters.max_attr_bonus/100){return false;}if(x.luck<filters.min_luck||x.luck>filters.max_luck){return false;}if(x.title_req<filters.title_req||x.title>filters.title_req){return false;}if(x.cheese_effect<filters.cheese_effect||x.cheese_effect>filters.cheese_effect){return false;}if(filters.limited!=='any'&&filters.limited!==x.limited){return false;}return true;});console.log('weaponList',weaponsList);console.log('filteredList',filteredList);// create a sort (can take multiple columns)\n// TO DO: find out how to change sort direction\nvar _useState3=useState([\"power\"]),_useState4=_slicedToArray(_useState3,2),currentSortField=_useState4[0],setCurrentSortField=_useState4[1];var _useState5=useState(\"asc\"),_useState6=_slicedToArray(_useState5,2),currentSortDirection=_useState6[0],setCurrentSortDirection=_useState6[1];var sortedAndFilteredList=lodash.orderBy(filteredList,[currentSortField,\"power\"],currentSortDirection);// return the page\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FilterForm,{setFilters:setFilters,filters:filters// childSetSort={setCurrentSort}\n}),/*#__PURE__*/_jsx(SortButton,{setCurrentSortDirection:setCurrentSortDirection,setCurrentSortField:setCurrentSortField}),/*#__PURE__*/_jsx(\"div\",{className:\"card-container\",children:sortedAndFilteredList.map(function(weapon){return/*#__PURE__*/_jsx(WeaponCard,{weapon:weapon},weapon.name);})})]});}","map":{"version":3,"names":["useState","weaponsList","WeaponCard","FilterForm","SortButton","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","lodash","require","Weapons","_useState","power_type","min_power","max_power","min_power_bonus","max_power_bonus","min_attr_bonus","max_attr_bonus","min_luck","max_luck","min_title_req","max_title_req","min_cheese_effect","max_cheese_effect","limited","_useState2","_slicedToArray","filters","setFilters","filteredList","filter","x","includes","power","power_bonus","attr_bonus","luck","title_req","title","cheese_effect","console","log","_useState3","_useState4","currentSortField","setCurrentSortField","_useState5","_useState6","currentSortDirection","setCurrentSortDirection","sortedAndFilteredList","orderBy","children","className","map","weapon","name"],"sources":["C:/Users/joshu/Documents/Programming Projects/MHTrapBrowser/trapbrowser-react/src/components/Weapons.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport weaponsList from '../assets/weapons.json';\r\nimport WeaponCard from \"./WeaponCard\";\r\nimport FilterForm from \"./FilterForm\";\r\nimport SortButton from \"./SortButton\";\r\n\r\nconst lodash = require(\"lodash\");\r\n\r\nexport default function Weapons() {\r\n\r\n  const [filters, setFilters] = useState({\r\n    power_type: [\"Arcane\", \"Draconic\", \"Forgotten\", \"Hydro\", \"Law\", \"Parental\", \"Physical\", \"Rift\", \"Shadow\", \"Tactical\"],\r\n    min_power: 0,\r\n    max_power: 16500,\r\n    min_power_bonus: 0,\r\n    max_power_bonus: 35,\r\n    min_attr_bonus: 0,\r\n    max_attr_bonus: 40,\r\n    min_luck: 0,\r\n    max_luck: 40,\r\n    min_title_req: 0,\r\n    max_title_req: 19,\r\n    min_cheese_effect: -6,\r\n    max_cheese_effect: 6,\r\n    limited: 'any'\r\n  })\r\n\r\n  let filteredList = weaponsList.filter(x => {\r\n\r\n    if (filters.power_type && !filters.power_type.includes(x.power_type)) {\r\n      return false\r\n    }\r\n\r\n    if (x.power < filters.min_power || x.power > filters.max_power) {\r\n      return false;\r\n    }\r\n\r\n    if (x.power_bonus < (filters.min_power_bonus / 100) || x.power_bonus > (filters.max_power_bonus / 100)) {\r\n      return false;\r\n    }\r\n\r\n    if (x.attr_bonus < (filters.min_attr_bonus / 100) || x.attr_bonus > (filters.max_attr_bonus / 100)) {\r\n      return false;\r\n    }\r\n\r\n    if (x.luck < filters.min_luck || x.luck > filters.max_luck) {\r\n      return false;\r\n    }\r\n\r\n    if (x.title_req < filters.title_req || x.title > filters.title_req) {\r\n      return false;\r\n    }\r\n\r\n    if (x.cheese_effect < filters.cheese_effect || x.cheese_effect > filters.cheese_effect) {\r\n      return false;\r\n    }\r\n\r\n    if (filters.limited !== 'any' && filters.limited !== x.limited) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  });\r\n\r\n  console.log('weaponList', weaponsList);\r\n  console.log('filteredList', filteredList);\r\n\r\n  // create a sort (can take multiple columns)\r\n  // TO DO: find out how to change sort direction\r\n  const [currentSortField, setCurrentSortField] = useState([\"power\"])\r\n  const [currentSortDirection, setCurrentSortDirection] = useState(\"asc\")\r\n\r\n  let sortedAndFilteredList = lodash.orderBy(filteredList, [currentSortField, \"power\"], currentSortDirection);\r\n\r\n  // return the page\r\n  return (\r\n    <>\r\n      <FilterForm\r\n        setFilters={setFilters}\r\n        filters={filters}\r\n      // childSetSort={setCurrentSort}\r\n      />\r\n\r\n      <SortButton\r\n        setCurrentSortDirection={setCurrentSortDirection}\r\n        setCurrentSortField={setCurrentSortField}\r\n      />\r\n\r\n      <div className=\"card-container\">\r\n        {sortedAndFilteredList.map((weapon) => (\r\n          <WeaponCard key={weapon.name} weapon={weapon} />\r\n        ))}\r\n      </div>\r\n\r\n    </>\r\n\r\n  );\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}